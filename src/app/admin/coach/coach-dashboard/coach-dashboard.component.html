<div class="row lead-container d-flex">
  <div class="col-md-3 lead-left-bar" *ngIf="size >= responsiveSize">
    <div class="lead-bar-content">
      <div class="readiness-level">
        <h3 class="readiness-level-title">{{ "#My athlets" | dgTranslate }}</h3>
        <ng-container *ngFor="let client of user.clients">
          <div class="athlets-item" *ngIf="client.profile">
            <a class="text-dark"
              [routerLink]="['/coach', 'athlet', 'dashboard']"
              (click)="setCurrentAthletId(client.client_id)"
            >
              <i class="fa fa-user-circle text-dark"></i> {{ client.profile?.firstname }}
              {{ client.profile?.lastname }}
            </a>
          </div>
        </ng-container>
        <button
          class="btn btn-primary btn-edit-secondary"
          (click)="openInvitationCreateModal()"
        >
          <i class="fa fa-plus"></i> {{ "#Create an athlet" | dgTranslate }}
        </button>
        <button
          class="btn btn-secondary btn-edit-secondary mt-3"
          routerLinkActive="active"
          [routerLink]="['/coach', 'clients']"
        >
          {{ "#See all athlets" | dgTranslate }}
        </button>
      </div>
      <div class="strenght-level">
        <h3 class="strenght-level-title">{{ "#My programs" | dgTranslate }}</h3>
        <ng-container *ngFor="let program of user.programs">
          <div class="athlets-item">
            <a class="text-dark" [routerLink]="['/coach', 'programs', program.program_id]">
              <span class="fa-stack fa-2x text-dark">
                <i class="fa fa-calendar-o fa-stack-1x"></i>
                <strong class="fa-stack-1x calendar-text">{{
                  program.days_count
                }}</strong>
              </span>
              {{ program.name }}
            </a>
          </div>
        </ng-container>
        <button
          class="btn btn-primary btn-edit-secondary"
          (click)="openProgramCreateModal()"
        >
          <i class="fa fa-plus"></i> {{ "#Create an program" | dgTranslate }}
        </button>
        <button
          class="btn btn-secondary btn-edit-secondary mt-3"
          routerLinkActive="active"
          [routerLink]="['/coach', 'programs']"
        >
          {{ "#See all programs" | dgTranslate }}
        </button>
      </div>
    </div>
  </div>
  <div class="col-md-6 lead-body">
    <div class="lead-body-content" *ngIf="!isEmpty">
      <div class="workout-date mb-4" *ngFor="let _workout of flatWorkouts">
        <h4>{{ _workout.label }}</h4>
        <div *ngIf="checkIsToday(_workout.date)" class="rectangle">
          <div class="oval">
            <img src="assets/img/logo/logo-power.png" srcset="
              assets/img/logo/logo-power@2x.png 2x,
              assets/img/logo/logo-power@3x.png 3x
            " class="logo">
            <span class="content-oval">{{userWorkouts[_workout.date].length}}</span>
            <div class="text-white sessions">Sessions</div>
          </div>
          <div class="athlets">
            <a class="text-white" href="https://app.theperfclub.com/coach/clients">All athlets</a>
          </div>

        </div>
        <ng-container *ngIf="userWorkouts && userWorkouts">
          <div
            class="workout-session"
            *ngFor="let workout of userWorkouts[_workout.date]"
          >
            <div class="workout-session-title">
              <a class="text-dark"
                 [routerLink]="['/coach', 'athlet', 'dashboard']"
                 (click)="setCurrentAthletId(workout.user_id)"
              >
              {{ workout.username }}
              </a>
              <span class="workout-program-name" *ngIf="workout.program.name">{{
                workout.program.name
              }}</span>
            </div>

            <ul class="list-group more-padding">
              <li
                class="list-group-item box-exercice"
                *ngFor="
                  let exercice of workout.program.exercices;
                  let indexExercice = index
                "
              >
                <div
                  class="movement-container movement-type-{{
                    exercice.type && exercice.type.id
                  }}"
                >
                  <div
                    class="inputs-exercice-type"
                    *ngIf="exercice.type"
                    [ngSwitch]="exercice.type.id"
                  >
                    <div *ngSwitchCase="1">
                      <div
                        class="movement-title"
                        *ngFor="let movement of exercice.movements"
                      >
                        {{ movement.name }}
                        <div
                          class="movement-content"
                          *ngFor="let set of movement.sets"
                        >
                          <span *ngIf="set.set"
                            >{{ set.set }} x {{ set.rep }} @ {{ set.value
                            }}{{ set.unit_label }}</span
                          >
                        </div>
                      </div>
                    </div>
                    <div *ngSwitchCase="2">
                      <div class="movement-title">
                        <span
                          class="mb-2" 
                          *ngFor="
                            let movement of exercice.movements;
                            let indMov = index
                          "
                          >
                          <div *ngFor="let set of movement.sets">
                            <span *ngIf="movement.has_rep_unit">
                              {{ movement.name }} <br>
                              {{ set.rep }} {{ getCardioUnitLabel(set.rep_unit) }} @ {{ set.value
                              }}{{ set.unit_label }}
                            </span>
                            <span *ngIf="!movement.has_rep_unit">
                              {{ set.rep }} {{ movement.name }} @ {{ set.value
                              }}{{ set.unit_label }}
                            </span>
                          </div>
                        </span>

                        <div class="movement-content">
                          <span
                            >{{ exercice.sets }}
                            {{ "#Sets" | dgTranslate }}</span
                          >
                        </div>
                      </div>
                    </div>
                    <div *ngSwitchCase="3">
                      <div
                        class="movement-title mb-2"
                        *ngFor="let movement of exercice.movements"
                      >
                        <div *ngFor="let set of movement.sets">
                          <span *ngIf="movement.has_rep_unit">
                            {{ movement.name }} <br>
                            {{ set.rep }} {{ getCardioUnitLabel(set.rep_unit) }} @ {{ set.value
                            }}{{ set.unit_label }}
                          </span>
                          <span *ngIf="set.set && !movement.has_rep_unit">
                            {{ movement.sets[0].quantity }} {{ movement.name }} @ {{ set.value
                            }}{{ set.unit_label }}</span>
                        </div>
                      </div>
                      <div class="movement-content">
                        AMRAP: {{ exercice.amrap_timecap }}
                        {{ "#minutes" | dgTranslate }}
                      </div>
                    </div>
                    <div *ngSwitchCase="4">
                      <div
                        class="movement-title"
                        *ngFor="let movement of exercice.movements"
                      >
                        <div *ngFor="let set of movement.sets">
                          <span *ngIf="movement.has_rep_unit">
                            {{ movement.name }} <br>
                            {{ set.rep }} {{ getCardioUnitLabel(set.rep_unit) }} @ {{ set.value
                            }}{{ set.unit_label }}
                            </span>
                          <span *ngIf="set.set && !movement.has_rep_unit">
                            {{ movement.sets[0].quantity }} {{ movement.name }} @ {{ set.value
                            }}{{ set.unit_label }}</span>
                        </div>
                      </div>
                      <div class="movement-content">
                        <span *ngIf="exercice.time_style == 1"
                          >{{ exercice.time_style_fixed }}
                          {{ "#rounds for time" | dgTranslate }}</span
                        >
                        <span *ngIf="exercice.time_style == 2"
                          >{{ exercice.time_style_varying }}
                          {{ "#rounds for time" | dgTranslate }}</span
                        >
                      </div>
                    </div>
                    <div *ngSwitchCase="5">
                      <div
                        class="movement-title"
                        *ngFor="let movement of exercice.movements"
                      >
                        <div *ngFor="let set of movement.sets">
                          <span *ngIf="movement.has_rep_unit">
                            {{ movement.name }} <br>
                            {{ set.rep }} {{ getCardioUnitLabel(set.rep_unit) }} @ {{ set.value
                            }}{{ set.unit_label }}
                            </span>
                          <span *ngIf="set.set && !movement.has_rep_unit">
                            {{ movement.sets[0].quantity }} {{ movement.name }} @ {{ set.value
                            }}{{ set.unit_label }}</span>
                        </div>
                      </div>
                      <div class="movement-content">
                        EMOM ({{ exercice.emom_duration }} min every
                        {{ exercice.emom_seconds }} sec)
                      </div>
                    </div>
                    <div *ngSwitchCase="7">
                      <div class="movement-title" *ngIf="exercice.cardio_type">
                        {{
                          configExercices.cardio.flatType[exercice.cardio_type]
                        }}
                      </div>

                      <div
                        class="movement-content"
                        *ngIf="exercice.cardio_scoring == 1"
                      >
                        <span
                          >{{ exercice.cardio_cardio_movement.interval }}
                          {{ exercice.cardio_cardio_movement.unit_label }} @
                          {{ exercice.cardio_cardio_movement.value }} %
                        </span>
                      </div>
                      <div *ngIf="exercice.cardio_scoring == 2">
                        <div
                          class="movement-content"
                          *ngFor="
                            let set of exercice.cardio_intervals_movement.sets
                          "
                        >
                          <span *ngIf="set.set"
                            >{{ set.set }} x {{ set.interval }}
                            {{ set.unit_label }} @ {{ set.value }} %</span
                          >
                        </div>
                      </div>
                    </div>
                    <div *ngSwitchCase="8">
                      <div class="movement-title">
                        {{ exercice.name }}
                        <small
                          >({{
                            configExercices.flatCustom[exercice.custom_scoring]
                          }})</small
                        >
                      </div>
                      <div class="movement-content custom-content">{{ exercice.custom }}</div>
                    </div>
                  </div>
                </div>
              </li>
            </ul>
          </div>
        </ng-container>
      </div>
    </div>
  </div>
  <div class="col-md-3 lead-right-bar" *ngIf="size >= responsiveSize">
    <div class="lead-bar-content lead-bar-content-right">
      <div>
        <h3>{{ "#FAQ" | dgTranslate }}</h3>
          <div class="mt-2"><a class="text-dark link-text" target="_blank"  href="http://www.theperfclub.com/support/naviguer-dans-theperfclub/">{{"#Navigation ThePerfClub"| dgTranslate }}</a></div>
          <div class="mt-2"> <a class="text-dark link-text" target="_blank"  href="http://www.theperfclub.com/support/creation-dun-modele-de-programme-et-assignation-a-un-des-athletess/">{{  "#How to create a template"| dgTranslate }}</a></div>
          <div class="mt-2"> <a class="text-dark link-text" target="_blank" href="http://www.theperfclub.com/support/creation-dune-seance-et-de-ses-exercices/">{{ "#How to create a session"| dgTranslate }}</a></div>
          <div class="mt-2"> <a class="text-dark link-text" target="_blank" href="http://www.theperfclub.com/support/demarrer-et-faire-une-seance/">{{ "#How to start a session"| dgTranslate }}</a></div>
          <div class="mt-2"> <a class="text-dark link-text" target="_blank" href="http://www.theperfclub.com/support/evolution-de-la-surcharge/">{{ "#Statistics Overload analysis"| dgTranslate }}</a></div>
          <div class="mt-2"> <a class="text-dark link-text" target="_blank" href="http://www.theperfclub.com/support/repartition-des-exercices-categories/">{{"#Statistics Exercices breakdown"| dgTranslate }}</a></div>
          <div class="mt-2"><a class="text-dark link-text" target="_blank" href="http://www.theperfclub.com/support/gestion-de-la-fatigue/">{{"#Fatigue management"| dgTranslate }}</a></div>
          <div class="mt-2"> <a class="text-dark link-text" target="_blank" href="http://www.theperfclub.com/support/mrv-score/">{{"#Profil MRV score"| dgTranslate }}</a></div>
          <div class="mt-2"><a class="text-dark link-text" target="_blank" href="http://www.theperfclub.com/support/exercices-evaluation/">{{ "#Profil Exercices evaluation"| dgTranslate }}</a></div>
      </div>
    </div>
  </div>
</div>
