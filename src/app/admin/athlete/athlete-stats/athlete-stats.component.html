<div class="row">
	<div class="col-md-12 calendar-top">
		<form class="form-inline">
		  <div class="form-group hidden">
		    <div class="input-group">
		      <input name="datepicker"
		             class="form-control"
		             ngbDatepicker
		             #datepicker="ngbDatepicker"
		             [autoClose]="'outside'"
		             (dateSelect)="onDateSelection($event, datepicker)"
		             [displayMonths]="2"
		             [dayTemplate]="t"
		             outsideDays="hidden"
		             [startDate]="fromDate!">
		      <ng-template #t let-date let-focused="focused">
		        <span class="custom-day"
		              [class.focused]="focused"
		              [class.range]="isRange(date)"
		              [class.faded]="isHovered(date) || isInside(date)"
		              (mouseenter)="hoveredDate = date"
		              (mouseleave)="hoveredDate = null">
		          {{ date.day }}
		        </span>
		      </ng-template>
		    </div>
		  </div>
		  <div class="form-group">
		    <div class="input-group">
		      <input #dpFromDate
		             class="form-control" placeholder="yyyy-mm-dd"
		             name="dpFromDate"
		             [value]="formatter.format(fromDate)"
		             (input)="fromDate = validateInput(fromDate, dpFromDate.value)">
		      <div class="input-group-append">
		        <button class="btn btn-outline-secondary" (click)="datepicker.toggle()" type="button"><i class="fa fa-calendar"></i></button>
		      </div>
		    </div>
		  </div>
		  <div class="form-group ml-2">
		    <div class="input-group">
		      <input #dpToDate
		             class="form-control" placeholder="yyyy-mm-dd"
		             name="dpToDate"
		             [value]="formatter.format(toDate)"
		             (input)="toDate = validateInput(toDate, dpToDate.value)">
		      <div class="input-group-append">
		        <button class="btn btn-outline-secondary" (click)="datepicker.toggle()" type="button"><i class="fa fa-calendar"></i></button>
		      </div>
		    </div>
		  </div>
		</form>
	</div>
	<div class="col-md-7">
		<div class="box-stats-left">
			<h3 class="text-center mt-4 mb-4">{{ '#Weekly overload' | dgTranslate }}</h3>
			<div class="row mt-4 mb-4">
				<div class="col-md-4 text-center">
					<div class="mrv-score black">
						<div class="mrv-score-icon"></div>
						<div class="mrv-score-number">{{ stats.weekly.volumeRound }}</div>
					</div>
					{{ '#Volume' | dgTranslate | uppercase}}
				</div>
				<div class="col-md-4 text-center">
					<div class="mrv-score grey">
						<div class="mrv-score-icon"></div>
						<div class="mrv-score-number">{{ stats.weekly.tonnageRound }}</div>
					</div>
					{{ '#Tonnage' | dgTranslate | uppercase}}
				</div>
				<div class="col-md-4 text-center">
					<div class="mrv-score red">
						<div class="mrv-score-icon"></div>
						<div class="mrv-score-number">{{ stats.weekly.intensiteRound }}</div>
					</div>
					{{ '#Av. weight' | dgTranslate | uppercase}}
				</div>
			</div>
			<div class="box-stats-title">
				<div>
				  <div>
				    <div style="display: block">
				      <canvas baseChart
				        [datasets]="barChartData"
				        [labels]="barChartLabels"
				        [options]="barChartOptions"
				        [plugins]="barChartPlugins"
				        [legend]="barChartLegend"
				        [chartType]="barChartType">
				      </canvas>
				    </div>
				  </div>
				</div>
			</div>

			<h3 class="text-center mt-4 mb-4">{{ '#Cardio' | dgTranslate }}</h3>
			<div class="box-stats-title">
				<div>
				  <div>
				    <div style="display: block">
				      <canvas baseChart
				        [datasets]="barChartCardioData"
				        [labels]="barChartLabels"
				        [options]="barChartCardioOptions"
				        [plugins]="barChartPlugins"
				        [legend]="barChartLegend"
				        [chartType]="barChartType">
				      </canvas>
				    </div>
				  </div>
				</div>
			</div>
		</div>
	</div>
	<div class="col-md-5">
		<div class="box-stats-right">
			<ul ngbNav #nav="ngbNav" class="nav-tabs">
			  <li ngbNavItem>
			    <a ngbNavLink>{{ '#Categories' | dgTranslate }}</a>
			    <ng-template ngbNavContent>
			      <ul class="list-group">
			      	<ng-container *ngFor="let category of categoriesData">
								<li class="list-group-item" *ngIf="category && category.volume">
									<h5>{{ category.label }}</h5>
									<span class="float-right">
										<span class="badge mr-2 badge-dark">v: {{category.volume}}</span>
										<span class="badge mr-2 badge-secondary">t: {{category.tonnage}}</span>
										<span class="badge mr-2 badge-danger">i: {{category.intensity}} %</span>
									</span>
									<p>{{ category.movements.length}} {{ '#exercices' | dgTranslate }}</p>
								</li>
							</ng-container>
						</ul>
			    </ng-template>
			  </li>
			  <li ngbNavItem>
			    <a ngbNavLink>{{ '#Exercices' | dgTranslate }}</a>
			    <ng-template ngbNavContent>
			    	<ul class="list-group">
							<li class="list-group-item" *ngFor="let mvt of movements">
								<h5>{{ mvt.name }}</h5>
								<span class="float-right">
									<span class="badge mr-2 badge-dark">v: {{mvt.volume}}</span>
									<span class="badge mr-2 badge-secondary">t: {{mvt.tonnage}}</span>
									<span class="badge mr-2 badge-danger">i: {{mvt.intensity}} %</span>
								</span>
								<p>{{ mvt.movements && mvt.movements.length}} {{ '#exercices' | dgTranslate }}</p>
							</li>
						</ul>
			    </ng-template>
			  </li>
			</ul>

			<div [ngbNavOutlet]="nav" class="mt-2"></div>

		</div>
	</div>
</div>

<div class="row">
	<div class="col-md-7">
		<div class="box-stats-left"></div>
	</div>
	<div class="col-md-5">
		<div class="box-stats-right"></div>
	</div>
</div>

