<div class="col-md-12" *ngIf="!model.movements.length">
	<div class="form-group">
		<label>{{ '#Search movement' | dgTranslate }}</label>
		<tpc-input-autocomplete
			[data]="movements"
			type="workout"
			(handleOnChangeSearch)="onChangeSearch($event)"
			(onSelectedItem)="onSelectedItem($event)"></tpc-input-autocomplete>
	</div>
</div>

<div class="col-md-12" *ngIf="model.movements.length">
	<label>{{ '#Movements' | dgTranslate }}</label>
	<div *ngFor="let movement of model.movements; let movementIndex=index;" class="list-group-item-step">
		<button class="btn float-right" (click)="removeMovement(movementIndex)"><i class="fa fa-close"></i></button>
		<div class="number-movement-list-label ml-2">{{ movement.name }}</div>

		<ul class="list-group">
			<li class="list-group-item" *ngIf="isPlanning">
				<div class="form-row align-items-center">
			  	<div class="col-auto">
						<div class="input-group">
							<div class="input-group-prepppend">
			          <span class="input-group-text">REPMAX</span>
			        </div>
							<input placeholder="1" [(ngModel)]="movement.max_value" type="number" class="form-control number-movement-list">
			      </div>
			    </div>
			    <div class="col-auto" *ngIf="movement.has_unit">
						<select [(ngModel)]="movement.max_unit" type="number" class="form-control number-movement-list">
							<option *ngFor="let unit of configExercices.size" [value]="unit.id">{{ unit.name }}</option>
						</select>
			    </div>
			  </div>
			</li>
			<li *ngFor="let set of movement.sets; let setIndex=index;" class="list-group-item">
				<button class="btn float-right" *ngIf="movement.sets.length > 1" (click)="removeSet(movement.sets, setIndex)"><i class="fa fa-close"></i></button>

				<div class="form-row align-items-center">
    			<div class="col-auto" *ngIf="movement.has_series">
						<div class="input-group">
							<input placeholder="1" [(ngModel)]="set.set" type="number" class="form-control number-movement-list">
							<div class="input-group-apppend">
			          <span class="input-group-text">{{ '#Sets' | dgTranslate }}</span>
			        </div>
			      </div>
			    </div>
			    <div class="col-auto" *ngIf="movement.has_repetitions">
						<div class="input-group">
							<input placeholder="1" [(ngModel)]="set.rep" type="number" class="form-control number-movement-list">
							<div class="input-group-apppend">
			          <span class="input-group-text">{{ '#Reps' | dgTranslate }}</span>
			        </div>
			      </div>
			    </div>

			    <div class="col-auto" *ngIf="movement.has_value">
						<input placeholder="90" [(ngModel)]="set.value" type="number" class="form-control number-movement-list ml-2">
			    </div>

			    <div class="col-auto">
						<select [(ngModel)]="set.unit" type="number" class="form-control number-movement-list">
							<option [value]="1">lbs</option>
							<option [value]="2">kg</option>
							<option [value]="3">%</option>
						</select>
						<span *ngIf="movement.max_value && set.unit == 3 && isPlanning" class="ml-4 badge badge-success">
							{{ set.value | unitSizeLabel : movement.max_value : movement.max_unit }}
						</span>
						<span *ngIf="movement.max_value && (set.unit == 1 || set.unit == 2) && isPlanning" class="ml-4 badge badge-success">
							{{ set.value | unitSizeCompar : movement.max_value : movement.max_unit : set.unit }}
						</span>
					</div>
			  </div>
			</li>
		</ul>
		<button class="btn mt-2" (click)="addSet(movement.sets)"><i class="fa fa-plus"></i> {{ '#Add set' | dgTranslate }}</button>
	</div>
</div>
